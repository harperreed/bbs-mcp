{"name": "cli-topic-lifecycle", "description": "Complete topic lifecycle via CLI", "given": ["Fresh database", "BBS CLI available"], "when": ["Create topic with name and description", "List topics", "Archive topic", "List archived topics"], "then": ["Topic appears in list after creation", "Topic hidden from default list after archive", "Topic visible with --archived flag"], "validates": ["Topic CRUD operations", "Archive functionality", "CLI output format"]}
{"name": "cli-thread-and-messages", "description": "Thread creation and message posting via CLI", "given": ["Existing topic in database"], "when": ["Create thread in topic", "Post initial message to thread", "Post reply to thread", "View thread messages"], "then": ["Thread appears in topic's thread list", "Messages appear in chronological order", "Message IDs are returned and can be used for editing"], "validates": ["Thread creation", "Message posting", "Thread viewing"]}
{"name": "cli-message-editing", "description": "Message editing via CLI", "given": ["Existing thread with messages"], "when": ["Get message ID from thread view", "Edit message with new content", "View thread again"], "then": ["Message content is updated", "Edit is reflected in subsequent reads"], "validates": ["Message update functionality", "Edit persistence"]}
{"name": "tui-navigation", "description": "TUI three-pane navigation", "given": ["Seeded database with topics, threads, messages", "Terminal with tmux"], "when": ["Launch TUI", "Navigate topics with j/k", "Select topic with Enter", "Select thread with Enter", "Switch panes with Tab", "Quit with q"], "then": ["Topics panel shows all topics", "Threads panel populates on topic selection", "Messages panel shows thread content", "Navigation keys work in all panes", "TUI exits cleanly"], "validates": ["TUI rendering", "Keyboard navigation", "Pane focus switching", "Clean exit"]}
{"name": "mcp-initialize", "description": "MCP server initialization", "given": ["MCP server started via stdio"], "when": ["Send initialize request with client info"], "then": ["Server returns capabilities", "Server info includes name and version", "Protocol version is echoed back"], "validates": ["MCP protocol compliance", "Server startup"]}
{"name": "mcp-tools-list", "description": "MCP tools discovery", "given": ["Initialized MCP session"], "when": ["Send tools/list request"], "then": ["Response includes all CRUD tools", "Each tool has description and inputSchema", "Required parameters are marked"], "validates": ["Tool registration", "Schema generation"]}
{"name": "mcp-topic-crud", "description": "Topic CRUD via MCP tools", "given": ["Initialized MCP session"], "when": ["Call create_topic tool", "Call list_topics tool", "Call archive_topic tool", "Call list_topics with include_archived"], "then": ["Topic is created with returned ID", "Topic appears in list", "Topic is hidden after archive", "Archived topic visible with flag"], "validates": ["MCP tool execution", "JSON argument parsing", "Response formatting"]}
{"name": "mcp-thread-and-messages", "description": "Thread and message operations via MCP", "given": ["Initialized MCP session", "Existing topic"], "when": ["Call create_thread with initial message", "Call list_threads", "Call post_message", "Call list_messages", "Call edit_message"], "then": ["Thread created with message", "Thread visible in topic", "Reply posted successfully", "All messages listed", "Edit reflected in content"], "validates": ["Thread creation with message", "Message CRUD via MCP", "Identity handling (agent_name)"]}
{"name": "mcp-resources", "description": "MCP resources availability", "given": ["Initialized MCP session"], "when": ["Send resources/list request"], "then": ["Response includes bbs://topics resource", "Response includes bbs://recent resource", "Resources have proper mimeType"], "validates": ["Resource registration", "Resource metadata"]}
{"name": "mcp-prompts", "description": "MCP prompts availability", "given": ["Initialized MCP session"], "when": ["Send prompts/list request"], "then": ["Response includes available prompts", "Prompts have arguments defined"], "validates": ["Prompt registration", "Prompt metadata"]}
